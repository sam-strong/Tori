<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Net::SSH::Transport::Session</title>

  <link rel="stylesheet" href="../../../rdoc.css" type="text/css" media="screen" />

  <script src="../../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../../index.html">Home</a>
          <a href="../../../index.html#classes">Classes</a>
          <a href="../../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../../lib/net/ssh/transport/session_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/net/ssh/transport/session.rb">lib/net/ssh/transport/session.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-close">#close</a></li>
          
          <li><a href="#method-i-closed-3F">#closed?</a></li>
          
          <li><a href="#method-i-configure_client">#configure_client</a></li>
          
          <li><a href="#method-i-configure_server">#configure_server</a></li>
          
          <li><a href="#method-i-enqueue_message">#enqueue_message</a></li>
          
          <li><a href="#method-i-hint">#hint</a></li>
          
          <li><a href="#method-i-host_as_string">#host_as_string</a></li>
          
          <li><a href="#method-i-next_message">#next_message</a></li>
          
          <li><a href="#method-i-peer">#peer</a></li>
          
          <li><a href="#method-i-poll_message">#poll_message</a></li>
          
          <li><a href="#method-i-push">#push</a></li>
          
          <li><a href="#method-i-rekey-21">#rekey!</a></li>
          
          <li><a href="#method-i-rekey_as_needed">#rekey_as_needed</a></li>
          
          <li><a href="#method-i-send_message">#send_message</a></li>
          
          <li><a href="#method-i-service_request">#service_request</a></li>
          
          <li><a href="#method-i-shutdown-21">#shutdown!</a></li>
          
          <li><a href="#method-i-wait">#wait</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="Constants.html">Net::SSH::Transport::Constants</a></li>
        
        
        
          <li><a class="include" href="../Loggable.html">Net::SSH::Loggable</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../../LICENSE_txt.html">LICENSE.txt</a></li>
        
          <li class="file"><a href="../../../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../../Net.html">Net</a></li>
        
          <li><a href="../../../Net/SSH.html">Net::SSH</a></li>
        
          <li><a href="../../../Net/SSH/Authentication.html">Net::SSH::Authentication</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Agent.html">Net::SSH::Authentication::Agent</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Agent/Comment.html">Net::SSH::Authentication::Agent::Comment</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Agent/Key.html">Net::SSH::Authentication::Agent::Key</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/AgentError.html">Net::SSH::Authentication::AgentError</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/AgentNotAvailable.html">Net::SSH::Authentication::AgentNotAvailable</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Constants.html">Net::SSH::Authentication::Constants</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/DisallowedMethod.html">Net::SSH::Authentication::DisallowedMethod</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/KeyManager.html">Net::SSH::Authentication::KeyManager</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/KeyManagerError.html">Net::SSH::Authentication::KeyManagerError</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Methods.html">Net::SSH::Authentication::Methods</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Methods/Abstract.html">Net::SSH::Authentication::Methods::Abstract</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Methods/Hostbased.html">Net::SSH::Authentication::Methods::Hostbased</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Methods/KeyboardInteractive.html">Net::SSH::Authentication::Methods::KeyboardInteractive</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Methods/None.html">Net::SSH::Authentication::Methods::None</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Methods/Password.html">Net::SSH::Authentication::Methods::Password</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Methods/Publickey.html">Net::SSH::Authentication::Methods::Publickey</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Pageant.html">Net::SSH::Authentication::Pageant</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Pageant/Socket.html">Net::SSH::Authentication::Pageant::Socket</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Pageant/Socket19.html">Net::SSH::Authentication::Pageant::Socket19</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Pageant/Win.html">Net::SSH::Authentication::Pageant::Win</a></li>
        
          <li><a href="../../../Net/SSH/Authentication/Session.html">Net::SSH::Authentication::Session</a></li>
        
          <li><a href="../../../Net/SSH/AuthenticationFailed.html">Net::SSH::AuthenticationFailed</a></li>
        
          <li><a href="../../../Net/SSH/Buffer.html">Net::SSH::Buffer</a></li>
        
          <li><a href="../../../Net/SSH/BufferedIo.html">Net::SSH::BufferedIo</a></li>
        
          <li><a href="../../../Net/SSH/ChannelOpenFailed.html">Net::SSH::ChannelOpenFailed</a></li>
        
          <li><a href="../../../Net/SSH/ChannelRequestFailed.html">Net::SSH::ChannelRequestFailed</a></li>
        
          <li><a href="../../../Net/SSH/Compat.html">Net::SSH::Compat</a></li>
        
          <li><a href="../../../Net/SSH/Config.html">Net::SSH::Config</a></li>
        
          <li><a href="../../../Net/SSH/Connection.html">Net::SSH::Connection</a></li>
        
          <li><a href="../../../Net/SSH/Connection/Channel.html">Net::SSH::Connection::Channel</a></li>
        
          <li><a href="../../../Net/SSH/Connection/Constants.html">Net::SSH::Connection::Constants</a></li>
        
          <li><a href="../../../Net/SSH/Connection/Session.html">Net::SSH::Connection::Session</a></li>
        
          <li><a href="../../../Net/SSH/Connection/Session/NilChannel.html">Net::SSH::Connection::Session::NilChannel</a></li>
        
          <li><a href="../../../Net/SSH/Connection/Term.html">Net::SSH::Connection::Term</a></li>
        
          <li><a href="../../../Net/SSH/ConnectionTimeout.html">Net::SSH::ConnectionTimeout</a></li>
        
          <li><a href="../../../Net/SSH/Disconnect.html">Net::SSH::Disconnect</a></li>
        
          <li><a href="../../../Net/SSH/Exception.html">Net::SSH::Exception</a></li>
        
          <li><a href="../../../Net/SSH/ForwardedBufferedIo.html">Net::SSH::ForwardedBufferedIo</a></li>
        
          <li><a href="../../../Net/SSH/HostKeyError.html">Net::SSH::HostKeyError</a></li>
        
          <li><a href="../../../Net/SSH/HostKeyMismatch.html">Net::SSH::HostKeyMismatch</a></li>
        
          <li><a href="../../../Net/SSH/HostKeyUnknown.html">Net::SSH::HostKeyUnknown</a></li>
        
          <li><a href="../../../Net/SSH/KeyFactory.html">Net::SSH::KeyFactory</a></li>
        
          <li><a href="../../../Net/SSH/KnownHosts.html">Net::SSH::KnownHosts</a></li>
        
          <li><a href="../../../Net/SSH/Loggable.html">Net::SSH::Loggable</a></li>
        
          <li><a href="../../../Net/SSH/Packet.html">Net::SSH::Packet</a></li>
        
          <li><a href="../../../Net/SSH/PromptMethods.html">Net::SSH::PromptMethods</a></li>
        
          <li><a href="../../../Net/SSH/PromptMethods/Clear.html">Net::SSH::PromptMethods::Clear</a></li>
        
          <li><a href="../../../Net/SSH/PromptMethods/Highline.html">Net::SSH::PromptMethods::Highline</a></li>
        
          <li><a href="../../../Net/SSH/PromptMethods/Termios.html">Net::SSH::PromptMethods::Termios</a></li>
        
          <li><a href="../../../Net/SSH/Proxy.html">Net::SSH::Proxy</a></li>
        
          <li><a href="../../../Net/SSH/Proxy/Command.html">Net::SSH::Proxy::Command</a></li>
        
          <li><a href="../../../Net/SSH/Proxy/ConnectError.html">Net::SSH::Proxy::ConnectError</a></li>
        
          <li><a href="../../../Net/SSH/Proxy/Error.html">Net::SSH::Proxy::Error</a></li>
        
          <li><a href="../../../Net/SSH/Proxy/HTTP.html">Net::SSH::Proxy::HTTP</a></li>
        
          <li><a href="../../../Net/SSH/Proxy/SOCKS4.html">Net::SSH::Proxy::SOCKS4</a></li>
        
          <li><a href="../../../Net/SSH/Proxy/SOCKS5.html">Net::SSH::Proxy::SOCKS5</a></li>
        
          <li><a href="../../../Net/SSH/Proxy/UnauthorizedError.html">Net::SSH::Proxy::UnauthorizedError</a></li>
        
          <li><a href="../../../Net/SSH/Service.html">Net::SSH::Service</a></li>
        
          <li><a href="../../../Net/SSH/Service/Forward.html">Net::SSH::Service::Forward</a></li>
        
          <li><a href="../../../Net/SSH/Test.html">Net::SSH::Test</a></li>
        
          <li><a href="../../../Net/SSH/Test/Channel.html">Net::SSH::Test::Channel</a></li>
        
          <li><a href="../../../Net/SSH/Test/Extensions.html">Net::SSH::Test::Extensions</a></li>
        
          <li><a href="../../../Net/SSH/Test/Extensions/BufferedIo.html">Net::SSH::Test::Extensions::BufferedIo</a></li>
        
          <li><a href="../../../Net/SSH/Test/Extensions/Channel.html">Net::SSH::Test::Extensions::Channel</a></li>
        
          <li><a href="../../../Net/SSH/Test/Extensions/IO.html">Net::SSH::Test::Extensions::IO</a></li>
        
          <li><a href="../../../Net/SSH/Test/Extensions/IO/ClassMethods.html">Net::SSH::Test::Extensions::IO::ClassMethods</a></li>
        
          <li><a href="../../../Net/SSH/Test/Extensions/PacketStream.html">Net::SSH::Test::Extensions::PacketStream</a></li>
        
          <li><a href="../../../Net/SSH/Test/Kex.html">Net::SSH::Test::Kex</a></li>
        
          <li><a href="../../../Net/SSH/Test/LocalPacket.html">Net::SSH::Test::LocalPacket</a></li>
        
          <li><a href="../../../Net/SSH/Test/Packet.html">Net::SSH::Test::Packet</a></li>
        
          <li><a href="../../../Net/SSH/Test/RemotePacket.html">Net::SSH::Test::RemotePacket</a></li>
        
          <li><a href="../../../Net/SSH/Test/Script.html">Net::SSH::Test::Script</a></li>
        
          <li><a href="../../../Net/SSH/Test/Socket.html">Net::SSH::Test::Socket</a></li>
        
          <li><a href="../../../Net/SSH/Transport.html">Net::SSH::Transport</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Algorithms.html">Net::SSH::Transport::Algorithms</a></li>
        
          <li><a href="../../../Net/SSH/Transport/CTR.html">Net::SSH::Transport::CTR</a></li>
        
          <li><a href="../../../Net/SSH/Transport/CipherFactory.html">Net::SSH::Transport::CipherFactory</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Constants.html">Net::SSH::Transport::Constants</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC.html">Net::SSH::Transport::HMAC</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/Abstract.html">Net::SSH::Transport::HMAC::Abstract</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/MD5.html">Net::SSH::Transport::HMAC::MD5</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/MD5_96.html">Net::SSH::Transport::HMAC::MD5_96</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/None.html">Net::SSH::Transport::HMAC::None</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/RIPEMD160.html">Net::SSH::Transport::HMAC::RIPEMD160</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/SHA1.html">Net::SSH::Transport::HMAC::SHA1</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/SHA1_96.html">Net::SSH::Transport::HMAC::SHA1_96</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_256.html">Net::SSH::Transport::HMAC::SHA2_256</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_256_96.html">Net::SSH::Transport::HMAC::SHA2_256_96</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_512.html">Net::SSH::Transport::HMAC::SHA2_512</a></li>
        
          <li><a href="../../../Net/SSH/Transport/HMAC/SHA2_512_96.html">Net::SSH::Transport::HMAC::SHA2_512_96</a></li>
        
          <li><a href="../../../Net/SSH/Transport/IdentityCipher.html">Net::SSH::Transport::IdentityCipher</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex.html">Net::SSH::Transport::Kex</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroup14SHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroup14SHA1</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroup1SHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroup1SHA1</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroupExchangeSHA1.html">Net::SSH::Transport::Kex::DiffieHellmanGroupExchangeSHA1</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex/DiffieHellmanGroupExchangeSHA256.html">Net::SSH::Transport::Kex::DiffieHellmanGroupExchangeSHA256</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex/EcdhSHA2NistP256.html">Net::SSH::Transport::Kex::EcdhSHA2NistP256</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex/EcdhSHA2NistP384.html">Net::SSH::Transport::Kex::EcdhSHA2NistP384</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Kex/EcdhSHA2NistP521.html">Net::SSH::Transport::Kex::EcdhSHA2NistP521</a></li>
        
          <li><a href="../../../Net/SSH/Transport/KeyExpander.html">Net::SSH::Transport::KeyExpander</a></li>
        
          <li><a href="../../../Net/SSH/Transport/PacketStream.html">Net::SSH::Transport::PacketStream</a></li>
        
          <li><a href="../../../Net/SSH/Transport/ServerVersion.html">Net::SSH::Transport::ServerVersion</a></li>
        
          <li><a href="../../../Net/SSH/Transport/Session.html">Net::SSH::Transport::Session</a></li>
        
          <li><a href="../../../Net/SSH/Transport/State.html">Net::SSH::Transport::State</a></li>
        
          <li><a href="../../../Net/SSH/Verifiers.html">Net::SSH::Verifiers</a></li>
        
          <li><a href="../../../Net/SSH/Verifiers/Lenient.html">Net::SSH::Verifiers::Lenient</a></li>
        
          <li><a href="../../../Net/SSH/Verifiers/Null.html">Net::SSH::Verifiers::Null</a></li>
        
          <li><a href="../../../Net/SSH/Verifiers/Secure.html">Net::SSH::Verifiers::Secure</a></li>
        
          <li><a href="../../../Net/SSH/Verifiers/Strict.html">Net::SSH::Verifiers::Strict</a></li>
        
          <li><a href="../../../Net/SSH/Version.html">Net::SSH::Version</a></li>
        
          <li><a href="../../../OpenSSL.html">OpenSSL</a></li>
        
          <li><a href="../../../OpenSSL/BN.html">OpenSSL::BN</a></li>
        
          <li><a href="../../../OpenSSL/PKey.html">OpenSSL::PKey</a></li>
        
          <li><a href="../../../OpenSSL/PKey/DH.html">OpenSSL::PKey::DH</a></li>
        
          <li><a href="../../../OpenSSL/PKey/DSA.html">OpenSSL::PKey::DSA</a></li>
        
          <li><a href="../../../OpenSSL/PKey/EC.html">OpenSSL::PKey::EC</a></li>
        
          <li><a href="../../../OpenSSL/PKey/OpenSSL.html">OpenSSL::PKey::OpenSSL</a></li>
        
          <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey.html">OpenSSL::PKey::OpenSSL::PKey</a></li>
        
          <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL</a></li>
        
          <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL/PKey.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL::PKey</a></li>
        
          <li><a href="../../../OpenSSL/PKey/OpenSSL/PKey/OpenSSL/PKey/ECError.html">OpenSSL::PKey::OpenSSL::PKey::OpenSSL::PKey::ECError</a></li>
        
          <li><a href="../../../OpenSSL/PKey/PKey.html">OpenSSL::PKey::PKey</a></li>
        
          <li><a href="../../../OpenSSL/PKey/RSA.html">OpenSSL::PKey::RSA</a></li>
        
          <li><a href="../../../String.html">String</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Net::SSH::Transport::Session</h1>

    <div id="description" class="description">
      
<p>The transport layer represents the lowest level of the <a
href="../../SSH.html">SSH</a> protocol, and implements basic message
exchanging and protocol initialization. It will never be instantiated
directly (unless you really know what you’re about), but will instead be
created for you automatically when you create a new <a
href="../../SSH.html">SSH</a> session via <a
href="../../SSH.html#method-c-start">Net::SSH.start</a>.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="DEFAULT_PORT">DEFAULT_PORT</a></dt>
          
          <dd class="description"><p>The standard port for the <a href="../../SSH.html">SSH</a> protocol.</p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="algorithms-attribute-method" class="method-detail">
          <a name="algorithms"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">algorithms</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The <a href="Algorithms.html">Algorithms</a> instance used to perform key
exchanges.</p>
          
          </div>
        </div>
        
        <div id="host-attribute-method" class="method-detail">
          <a name="host"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">host</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The host to connect to, as given to the constructor.</p>
          
          </div>
        </div>
        
        <div id="host_key_verifier-attribute-method" class="method-detail">
          <a name="host_key_verifier"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">host_key_verifier</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The host-key verifier object used to verify host keys, to ensure that the
connection is not being spoofed.</p>
          
          </div>
        </div>
        
        <div id="options-attribute-method" class="method-detail">
          <a name="options"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">options</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The hash of options that were given to the object at initialization.</p>
          
          </div>
        </div>
        
        <div id="port-attribute-method" class="method-detail">
          <a name="port"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">port</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The port number to connect to, as given in the options to the constructor.
If no port number was given, this will default to <a
href="Session.html#DEFAULT_PORT">DEFAULT_PORT</a>.</p>
          
          </div>
        </div>
        
        <div id="server_version-attribute-method" class="method-detail">
          <a name="server_version"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">server_version</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The <a href="ServerVersion.html">ServerVersion</a> instance that
encapsulates the negotiated protocol version.</p>
          
          </div>
        </div>
        
        <div id="socket-attribute-method" class="method-detail">
          <a name="socket"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">socket</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The underlying socket object being used to communicate with the remote
host.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(host, options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Instantiates a new transport layer abstraction. This will block until the
initial key exchange completes, leaving you with a ready-to-use transport
session.</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:logger</span>]

  <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">host</span>
  <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:port</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_PORT</span>
  <span class="ruby-ivar">@bind_address</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:bind_address</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>

  <span class="ruby-identifier">debug</span> { <span class="ruby-node">&quot;establishing connection to #{@host}:#{@port}&quot;</span> }
  <span class="ruby-identifier">factory</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:proxy</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">TCPSocket</span>
  <span class="ruby-ivar">@socket</span> = <span class="ruby-identifier">timeout</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:timeout</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>) { <span class="ruby-ivar">@bind_address</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:proxy</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">factory</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@host</span>, <span class="ruby-ivar">@port</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">factory</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@host</span>,<span class="ruby-ivar">@port</span>,<span class="ruby-ivar">@bind_address</span>) }
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-constant">PacketStream</span>)
  <span class="ruby-ivar">@socket</span>.<span class="ruby-identifier">logger</span> = <span class="ruby-ivar">@logger</span>

  <span class="ruby-identifier">debug</span> { <span class="ruby-string">&quot;connection established&quot;</span> }

  <span class="ruby-ivar">@queue</span> = []

  <span class="ruby-ivar">@host_key_verifier</span> = <span class="ruby-identifier">select_host_key_verifier</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:paranoid</span>])


  <span class="ruby-ivar">@server_version</span> = <span class="ruby-identifier">timeout</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:timeout</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>) { <span class="ruby-constant">ServerVersion</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">socket</span>, <span class="ruby-identifier">logger</span>) }

  <span class="ruby-ivar">@algorithms</span> = <span class="ruby-constant">Algorithms</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">wait</span> { <span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">initialized?</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="close-method" class="method-detail ">
          <a name="method-i-close"></a>

          
          <div class="method-heading">
            <span class="method-name">close</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Cleans up (see <a
href="PacketStream.html#method-i-cleanup">PacketStream#cleanup</a>) and
closes the underlying socket.</p>
            

            
            <div class="method-source-code" id="close-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">close</span>
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">cleanup</span>
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">close</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- close-source -->
            
          </div>

          

          
        </div><!-- close-method -->

      
        <div id="closed-3F-method" class="method-detail ">
          <a name="method-i-closed-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">closed?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true if the underlying socket has been closed.</p>
            

            
            <div class="method-source-code" id="closed-3F-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">closed?</span>
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">closed?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- closed-3F-source -->
            
          </div>

          

          
        </div><!-- closed-3F-method -->

      
        <div id="configure_client-method" class="method-detail ">
          <a name="method-i-configure_client"></a>

          
          <div class="method-heading">
            <span class="method-name">configure_client</span><span
              class="method-args">(options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Configure’s the packet stream’s client state with the given set of options.
This is typically used to define the cipher, compression, and hmac
algorithms to use when sending packets to the server.</p>
            

            
            <div class="method-source-code" id="configure_client-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">configure_client</span>(<span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">client</span>.<span class="ruby-identifier">set</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- configure_client-source -->
            
          </div>

          

          
        </div><!-- configure_client-method -->

      
        <div id="configure_server-method" class="method-detail ">
          <a name="method-i-configure_server"></a>

          
          <div class="method-heading">
            <span class="method-name">configure_server</span><span
              class="method-args">(options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Configure’s the packet stream’s server state with the given set of options.
This is typically used to define the cipher, compression, and hmac
algorithms to use when reading packets from the server.</p>
            

            
            <div class="method-source-code" id="configure_server-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">configure_server</span>(<span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">server</span>.<span class="ruby-identifier">set</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- configure_server-source -->
            
          </div>

          

          
        </div><!-- configure_server-method -->

      
        <div id="enqueue_message-method" class="method-detail ">
          <a name="method-i-enqueue_message"></a>

          
          <div class="method-heading">
            <span class="method-name">enqueue_message</span><span
              class="method-args">(message)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Enqueues the given message, such that it will be sent at the earliest
opportunity. This does not block, but returns immediately.</p>
            

            
            <div class="method-source-code" id="enqueue_message-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">enqueue_message</span>(<span class="ruby-identifier">message</span>)
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">enqueue_packet</span>(<span class="ruby-identifier">message</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- enqueue_message-source -->
            
          </div>

          

          
        </div><!-- enqueue_message-method -->

      
        <div id="hint-method" class="method-detail ">
          <a name="method-i-hint"></a>

          
          <div class="method-heading">
            <span class="method-name">hint</span><span
              class="method-args">(which, value=true)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sets a new hint for the packet stream, which the packet stream may use to
change its behavior. (See <a
href="PacketStream.html#attribute-i-hints">PacketStream#hints</a>).</p>
            

            
            <div class="method-source-code" id="hint-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hint</span>(<span class="ruby-identifier">which</span>, <span class="ruby-identifier">value</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">hints</span>[<span class="ruby-identifier">which</span>] = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- hint-source -->
            
          </div>

          

          
        </div><!-- hint-method -->

      
        <div id="host_as_string-method" class="method-detail ">
          <a name="method-i-host_as_string"></a>

          
          <div class="method-heading">
            <span class="method-name">host_as_string</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the host (and possibly IP address) in a format compatible with <a
href="../../SSH.html">SSH</a> known-host files.</p>
            

            
            <div class="method-source-code" id="host_as_string-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">host_as_string</span>
  <span class="ruby-ivar">@host_as_string</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">string</span> = <span class="ruby-node">&quot;#{host}&quot;</span>
    <span class="ruby-identifier">string</span> = <span class="ruby-node">&quot;[#{string}]:#{port}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">port</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">DEFAULT_PORT</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">peer_ip</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">host</span>
      <span class="ruby-identifier">string2</span> = <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">peer_ip</span>
      <span class="ruby-identifier">string2</span> = <span class="ruby-node">&quot;[#{string2}]:#{port}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">port</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">DEFAULT_PORT</span>
      <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;,&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">string2</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">string</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- host_as_string-source -->
            
          </div>

          

          
        </div><!-- host_as_string-method -->

      
        <div id="next_message-method" class="method-detail ">
          <a name="method-i-next_message"></a>

          
          <div class="method-heading">
            <span class="method-name">next_message</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Blocks until a new packet is available to be read, and returns that packet.
See <a href="Session.html#method-i-poll_message">poll_message</a>.</p>
            

            
            <div class="method-source-code" id="next_message-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">next_message</span>
  <span class="ruby-identifier">poll_message</span>(<span class="ruby-value">:block</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- next_message-source -->
            
          </div>

          

          
        </div><!-- next_message-method -->

      
        <div id="peer-method" class="method-detail ">
          <a name="method-i-peer"></a>

          
          <div class="method-heading">
            <span class="method-name">peer</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a hash of information about the peer (remote) side of the socket,
including :ip, :port, :host, and :canonized (see <a
href="Session.html#method-i-host_as_string">host_as_string</a>).</p>
            

            
            <div class="method-source-code" id="peer-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">peer</span>
  <span class="ruby-ivar">@peer</span> <span class="ruby-operator">||=</span> { <span class="ruby-value">:ip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">peer_ip</span>, <span class="ruby-value">:port</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-value">:host</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@host</span>, <span class="ruby-value">:canonized</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">host_as_string</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- peer-source -->
            
          </div>

          

          
        </div><!-- peer-method -->

      
        <div id="poll_message-method" class="method-detail ">
          <a name="method-i-poll_message"></a>

          
          <div class="method-heading">
            <span class="method-name">poll_message</span><span
              class="method-args">(mode=:nonblock, consume_queue=true)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Tries to read the next packet from the socket. If mode is :nonblock (the
default), this will not block and will return nil if there are no packets
waiting to be read. Otherwise, this will block until a packet is available.
Note that some packet types (DISCONNECT, IGNORE, UNIMPLEMENTED, DEBUG, and
KEXINIT) are handled silently by this method, and will never be returned.</p>

<p>If a key-exchange is in process and a disallowed packet type is received,
it will be enqueued and otherwise ignored. When a key-exchange is not in
process, and consume_queue is true, packets will be first read from the
queue before the socket is queried.</p>
            

            
            <div class="method-source-code" id="poll_message-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">poll_message</span>(<span class="ruby-identifier">mode</span>=<span class="ruby-value">:nonblock</span>, <span class="ruby-identifier">consume_queue</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">consume_queue</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@queue</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">allow?</span>(<span class="ruby-ivar">@queue</span>.<span class="ruby-identifier">first</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-ivar">@queue</span>.<span class="ruby-identifier">shift</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">packet</span> = <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">next_packet</span>(<span class="ruby-identifier">mode</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">packet</span>.<span class="ruby-identifier">nil?</span>

    <span class="ruby-keyword">case</span> <span class="ruby-identifier">packet</span>.<span class="ruby-identifier">type</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">DISCONNECT</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Disconnect</span>, <span class="ruby-node">&quot;disconnected: #{packet[:description]} (#{packet[:reason_code]})&quot;</span>

    <span class="ruby-keyword">when</span> <span class="ruby-constant">IGNORE</span>
      <span class="ruby-identifier">debug</span> { <span class="ruby-node">&quot;IGNORE packet recieved: #{packet[:data].inspect}&quot;</span> }

    <span class="ruby-keyword">when</span> <span class="ruby-constant">UNIMPLEMENTED</span>
      <span class="ruby-identifier">lwarn</span> { <span class="ruby-node">&quot;UNIMPLEMENTED: #{packet[:number]}&quot;</span> }

    <span class="ruby-keyword">when</span> <span class="ruby-constant">DEBUG</span>
      <span class="ruby-identifier">send</span>(<span class="ruby-identifier">packet</span>[<span class="ruby-value">:always_display</span>] <span class="ruby-operator">?</span> <span class="ruby-value">:fatal</span> <span class="ruby-operator">:</span> <span class="ruby-value">:debug</span>) { <span class="ruby-identifier">packet</span>[<span class="ruby-value">:message</span>] }

    <span class="ruby-keyword">when</span> <span class="ruby-constant">KEXINIT</span>
      <span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">accept_kexinit</span>(<span class="ruby-identifier">packet</span>)

    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">packet</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">allow?</span>(<span class="ruby-identifier">packet</span>)
      <span class="ruby-identifier">push</span>(<span class="ruby-identifier">packet</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- poll_message-source -->
            
          </div>

          

          
        </div><!-- poll_message-method -->

      
        <div id="push-method" class="method-detail ">
          <a name="method-i-push"></a>

          
          <div class="method-heading">
            <span class="method-name">push</span><span
              class="method-args">(packet)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Adds the given packet to the packet queue. If the queue is non-empty, <a
href="Session.html#method-i-poll_message">poll_message</a> will return
packets from the queue in the order they were received.</p>
            

            
            <div class="method-source-code" id="push-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">push</span>(<span class="ruby-identifier">packet</span>)
  <span class="ruby-ivar">@queue</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">packet</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- push-source -->
            
          </div>

          

          
        </div><!-- push-method -->

      
        <div id="rekey-21-method" class="method-detail ">
          <a name="method-i-rekey-21"></a>

          
          <div class="method-heading">
            <span class="method-name">rekey!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Requests a rekey operation, and blocks until the operation completes. If a
rekey is already pending, this returns immediately, having no effect.</p>
            

            
            <div class="method-source-code" id="rekey-21-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rekey!</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">pending?</span>
    <span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">rekey!</span>
    <span class="ruby-identifier">wait</span> { <span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">initialized?</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- rekey-21-source -->
            
          </div>

          

          
        </div><!-- rekey-21-method -->

      
        <div id="rekey_as_needed-method" class="method-detail ">
          <a name="method-i-rekey_as_needed"></a>

          
          <div class="method-heading">
            <span class="method-name">rekey_as_needed</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns immediately if a rekey is already in process. Otherwise, if a rekey
is needed (as indicated by the socket, see <a
href="PacketStream.html#method-i-if_needs_rekey-3F">PacketStream#if_needs_rekey?</a>)
one is performed, causing this method to block until it completes.</p>
            

            
            <div class="method-source-code" id="rekey_as_needed-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rekey_as_needed</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">algorithms</span>.<span class="ruby-identifier">pending?</span>
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">if_needs_rekey?</span> { <span class="ruby-identifier">rekey!</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- rekey_as_needed-source -->
            
          </div>

          

          
        </div><!-- rekey_as_needed-method -->

      
        <div id="send_message-method" class="method-detail ">
          <a name="method-i-send_message"></a>

          
          <div class="method-heading">
            <span class="method-name">send_message</span><span
              class="method-args">(message)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sends the given message via the packet stream, blocking until the entire
message has been sent.</p>
            

            
            <div class="method-source-code" id="send_message-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_message</span>(<span class="ruby-identifier">message</span>)
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">send_packet</span>(<span class="ruby-identifier">message</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- send_message-source -->
            
          </div>

          

          
        </div><!-- send_message-method -->

      
        <div id="service_request-method" class="method-detail ">
          <a name="method-i-service_request"></a>

          
          <div class="method-heading">
            <span class="method-name">service_request</span><span
              class="method-args">(service)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a new <a
href="Session.html#method-i-service_request">service_request</a> packet for
the given service name, ready for sending to the server.</p>
            

            
            <div class="method-source-code" id="service_request-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">service_request</span>(<span class="ruby-identifier">service</span>)
  <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">SSH</span><span class="ruby-operator">::</span><span class="ruby-constant">Buffer</span>.<span class="ruby-identifier">from</span>(<span class="ruby-value">:byte</span>, <span class="ruby-constant">SERVICE_REQUEST</span>, <span class="ruby-value">:string</span>, <span class="ruby-identifier">service</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- service_request-source -->
            
          </div>

          

          
        </div><!-- service_request-method -->

      
        <div id="shutdown-21-method" class="method-detail ">
          <a name="method-i-shutdown-21"></a>

          
          <div class="method-heading">
            <span class="method-name">shutdown!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Performs a “hard” shutdown of the connection. In general, this should never
be done, but it might be necessary (in a rescue clause, for instance, when
the connection needs to close but you don’t know the status of the
underlying protocol’s state).</p>
            

            
            <div class="method-source-code" id="shutdown-21-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 114</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shutdown!</span>
  <span class="ruby-identifier">error</span> { <span class="ruby-string">&quot;forcing connection closed&quot;</span> }
  <span class="ruby-identifier">socket</span>.<span class="ruby-identifier">close</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- shutdown-21-source -->
            
          </div>

          

          
        </div><!-- shutdown-21-method -->

      
        <div id="wait-method" class="method-detail ">
          <a name="method-i-wait"></a>

          
          <div class="method-heading">
            <span class="method-name">wait</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Waits (blocks) until the given block returns true. If no block is given,
this just waits long enough to see if there are any pending packets. Any
packets read are enqueued (see <a
href="Session.html#method-i-push">push</a>).</p>
            

            
            <div class="method-source-code" id="wait-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/transport/session.rb, line 201</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">wait</span>
  <span class="ruby-identifier">loop</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">yield</span>
    <span class="ruby-identifier">message</span> = <span class="ruby-identifier">poll_message</span>(<span class="ruby-value">:nonblock</span>, <span class="ruby-keyword">false</span>)
    <span class="ruby-identifier">push</span>(<span class="ruby-identifier">message</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">message</span>
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- wait-source -->
            
          </div>

          

          
        </div><!-- wait-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

