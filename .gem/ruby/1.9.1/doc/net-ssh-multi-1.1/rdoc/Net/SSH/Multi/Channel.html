<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Net::SSH::Multi::Channel</title>

  <link rel="stylesheet" href="../../../rdoc.css" type="text/css" media="screen" />

  <script src="../../../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../../index.html">Home</a>
          <a href="../../../index.html#classes">Classes</a>
          <a href="../../../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../../../lib/net/ssh/multi/channel_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/net/ssh/multi/channel.rb">lib/net/ssh/multi/channel.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-5B-5D">#[]</a></li>
          
          <li><a href="#method-i-5B-5D-3D">#[]=</a></li>
          
          <li><a href="#method-i-active-3F">#active?</a></li>
          
          <li><a href="#method-i-close">#close</a></li>
          
          <li><a href="#method-i-each">#each</a></li>
          
          <li><a href="#method-i-eof-21">#eof!</a></li>
          
          <li><a href="#method-i-exec">#exec</a></li>
          
          <li><a href="#method-i-on_close">#on_close</a></li>
          
          <li><a href="#method-i-on_data">#on_data</a></li>
          
          <li><a href="#method-i-on_eof">#on_eof</a></li>
          
          <li><a href="#method-i-on_extended_data">#on_extended_data</a></li>
          
          <li><a href="#method-i-on_open_failed">#on_open_failed</a></li>
          
          <li><a href="#method-i-on_process">#on_process</a></li>
          
          <li><a href="#method-i-on_request">#on_request</a></li>
          
          <li><a href="#method-i-request_pty">#request_pty</a></li>
          
          <li><a href="#method-i-send_data">#send_data</a></li>
          
          <li><a href="#method-i-wait">#wait</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><span class="include">Enumerable</span></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../../../CHANGELOG_rdoc.html">CHANGELOG.rdoc</a></li>
        
          <li class="file"><a href="../../../README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../../../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../../../Net.html">Net</a></li>
        
          <li><a href="../../../Net/SSH.html">Net::SSH</a></li>
        
          <li><a href="../../../Net/SSH/Multi.html">Net::SSH::Multi</a></li>
        
          <li><a href="../../../Net/SSH/Multi/Channel.html">Net::SSH::Multi::Channel</a></li>
        
          <li><a href="../../../Net/SSH/Multi/ChannelProxy.html">Net::SSH::Multi::ChannelProxy</a></li>
        
          <li><a href="../../../Net/SSH/Multi/DynamicServer.html">Net::SSH::Multi::DynamicServer</a></li>
        
          <li><a href="../../../Net/SSH/Multi/PendingConnection.html">Net::SSH::Multi::PendingConnection</a></li>
        
          <li><a href="../../../Net/SSH/Multi/Server.html">Net::SSH::Multi::Server</a></li>
        
          <li><a href="../../../Net/SSH/Multi/ServerList.html">Net::SSH::Multi::ServerList</a></li>
        
          <li><a href="../../../Net/SSH/Multi/Session.html">Net::SSH::Multi::Session</a></li>
        
          <li><a href="../../../Net/SSH/Multi/SessionActions.html">Net::SSH::Multi::SessionActions</a></li>
        
          <li><a href="../../../Net/SSH/Multi/Subsession.html">Net::SSH::Multi::Subsession</a></li>
        
          <li><a href="../../../Net/SSH/Multi/Version.html">Net::SSH::Multi::Version</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Net::SSH::Multi::Channel</h1>

    <div id="description" class="description">
      
<p><a href="Channel.html">Net::SSH::Multi::Channel</a> encapsulates a
collection of Net::SSH::Connection::Channel instances from multiple
different connections. It allows for operations to be performed on all
contained channels, simultaneously, using an interface mostly identical to
Net::SSH::Connection::Channel itself.</p>

<p>You typically obtain a <a href="Channel.html">Net::SSH::Multi::Channel</a>
instance via <a
href="SessionActions.html#method-i-open_channel">Net::SSH::Multi::Session#open_channel</a>
or <a
href="SessionActions.html#method-i-exec">Net::SSH::Multi::Session#exec</a>,
though there is nothing stopping you from instantiating one yourself with a
handful of Net::SSH::Connection::Channel objects (though they should be
associated with connections managed by a <a
href="Session.html">Net::SSH::Multi::Session</a> object for consistent
behavior).</p>

<pre>channel = session.open_channel do |ch|
  # ...
end

channel.wait</pre>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="channels-attribute-method" class="method-detail">
          <a name="channels"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">channels</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The collection of Net::SSH::Connection::Channel instances that this
multi-channel aggregates.</p>
          
          </div>
        </div>
        
        <div id="connection-attribute-method" class="method-detail">
          <a name="connection"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">connection</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The <a href="Session.html">Net::SSH::Multi::Session</a> instance that
controls this channel collection.</p>
          
          </div>
        </div>
        
        <div id="properties-attribute-method" class="method-detail">
          <a name="properties"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">properties</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>A Hash of custom properties that may be set and queried on this object.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(connection, channels)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Instantiate a new <a href="Channel.html">Net::SSH::Multi::Channel</a>
instance, controlled by the given <tt>connection</tt> (a <a
href="Session.html">Net::SSH::Multi::Session</a> object) and wrapping the
given <tt>channels</tt> (Net::SSH::Connection::Channel instances).</p>

<p>You will typically never call this directly; rather, you’ll get your
multi-channel references via <a
href="SessionActions.html#method-i-open_channel">Net::SSH::Multi::Session#open_channel</a>
and friends.</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">connection</span>, <span class="ruby-identifier">channels</span>)
  <span class="ruby-ivar">@connection</span> = <span class="ruby-identifier">connection</span>
  <span class="ruby-ivar">@channels</span> = <span class="ruby-identifier">channels</span>
  <span class="ruby-ivar">@properties</span> = {}
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="5B-5D-method" class="method-detail ">
          <a name="method-i-5B-5D"></a>

          
          <div class="method-heading">
            <span class="method-name">[]</span><span
              class="method-args">(key)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Retrieve the property (see <a
href="Channel.html#attribute-i-properties">properties</a>) with the given
<tt>key</tt>.</p>

<pre>host = channel[:host]</pre>
            

            
            <div class="method-source-code" id="5B-5D-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-ivar">@properties</span>[<span class="ruby-identifier">key</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- 5B-5D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-method -->

      
        <div id="5B-5D-3D-method" class="method-detail ">
          <a name="method-i-5B-5D-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">[]=</span><span
              class="method-args">(key, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set the property (see <a
href="Channel.html#attribute-i-properties">properties</a>) with the given
<tt>key</tt> to the given <tt>value</tt>.</p>

<pre>channel[:visited] = true</pre>
            

            
            <div class="method-source-code" id="5B-5D-3D-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-ivar">@properties</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- 5B-5D-3D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-3D-method -->

      
        <div id="active-3F-method" class="method-detail ">
          <a name="method-i-active-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">active?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns true as long as any of the component channels are active.</p>

<pre>connection.loop { channel.active? }</pre>
            

            
            <div class="method-source-code" id="active-3F-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 112</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">active?</span>
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">active?</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- active-3F-source -->
            
          </div>

          

          
        </div><!-- active-3F-method -->

      
        <div id="close-method" class="method-detail ">
          <a name="method-i-close"></a>

          
          <div class="method-heading">
            <span class="method-name">close</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Closes all component channels.</p>
            

            
            <div class="method-source-code" id="close-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">close</span>
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">close</span> }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- close-source -->
            
          </div>

          

          
        </div><!-- close-method -->

      
        <div id="each-method" class="method-detail ">
          <a name="method-i-each"></a>

          
          <div class="method-heading">
            <span class="method-name">each</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Iterate over each component channel object, yielding each in order to the
associated block.</p>
            

            
            <div class="method-source-code" id="each-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 46</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>
  <span class="ruby-ivar">@channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">channel</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- each-source -->
            
          </div>

          

          
        </div><!-- each-method -->

      
        <div id="eof-21-method" class="method-detail ">
          <a name="method-i-eof-21"></a>

          
          <div class="method-heading">
            <span class="method-name">eof!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Tells the remote process for each component channel not to expect any
further data from this end of the channel.</p>
            

            
            <div class="method-source-code" id="eof-21-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eof!</span>
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">eof!</span> }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- eof-21-source -->
            
          </div>

          

          
        </div><!-- eof-21-method -->

      
        <div id="exec-method" class="method-detail ">
          <a name="method-i-exec"></a>

          
          <div class="method-heading">
            <span class="method-name">exec</span><span
              class="method-args">(command, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Perform an <tt>exec</tt> command on all component channels. The block, if
given, is passed to each component channel, so it will (potentially) be
invoked once for every channel in the collection. The block will receive
two parameters: the specific channel object being operated on, and a
boolean indicating whether the exec succeeded or not.</p>

<pre>channel.exec &quot;ls -l&quot; do |ch, success|
  # ...
end</pre>

<p>See the documentation in <a href="../../SSH.html">Net::SSH</a> for
Net::SSH::Connection::Channel#exec for more information on how to work with
the callback.</p>
            

            
            <div class="method-source-code" id="exec-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">exec</span>(<span class="ruby-identifier">command</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">exec</span>(<span class="ruby-identifier">command</span>, &amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- exec-source -->
            
          </div>

          

          
        </div><!-- exec-method -->

      
        <div id="on_close-method" class="method-detail ">
          <a name="method-i-on_close"></a>

          
          <div class="method-heading">
            <span class="method-name">on_close</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Registers a callback on all component channels, to be invoked when the
remote server terminates the channel. The callback will be invoked with one
argument: the specific channel object being closed.</p>

<pre>channel.on_close do |ch|
  # ...
end</pre>
            

            
            <div class="method-source-code" id="on_close-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_close</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_close</span>(&amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_close-source -->
            
          </div>

          

          
        </div><!-- on_close-method -->

      
        <div id="on_data-method" class="method-detail ">
          <a name="method-i-on_data"></a>

          
          <div class="method-heading">
            <span class="method-name">on_data</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Registers a callback on all component channels, to be invoked when the
remote process emits data (usually on its <tt>stdout</tt> stream). The
block will be invoked with two arguments: the specific channel object, and
the data that was received.</p>

<pre>channel.on_data do |ch, data|
  puts &quot;got data: #{data}&quot;
end</pre>
            

            
            <div class="method-source-code" id="on_data-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_data</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_data</span>(&amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_data-source -->
            
          </div>

          

          
        </div><!-- on_data-method -->

      
        <div id="on_eof-method" class="method-detail ">
          <a name="method-i-on_eof"></a>

          
          <div class="method-heading">
            <span class="method-name">on_eof</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Registers a callback on all component channels, to be invoked when the
remote server has no further data to send. The callback will be invoked
with one argument: the specific channel object being marked EOF.</p>

<pre>channel.on_eof do |ch|
  # ...
end</pre>
            

            
            <div class="method-source-code" id="on_eof-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_eof</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_eof</span>(&amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_eof-source -->
            
          </div>

          

          
        </div><!-- on_eof-method -->

      
        <div id="on_extended_data-method" class="method-detail ">
          <a name="method-i-on_extended_data"></a>

          
          <div class="method-heading">
            <span class="method-name">on_extended_data</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Registers a callback on all component channels, to be invoked when the
remote process emits “extended” data (typically on its <tt>stderr</tt>
stream). The block will be invoked with three arguments: the specific
channel object, an integer describing the data type (usually a 1 for
<tt>stderr</tt>) and the data that was received.</p>

<pre>channel.on_extended_data do |ch, type, data|
  puts &quot;got extended data: #{data}&quot;
end</pre>
            

            
            <div class="method-source-code" id="on_extended_data-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_extended_data</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_extended_data</span>(&amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_extended_data-source -->
            
          </div>

          

          
        </div><!-- on_extended_data-method -->

      
        <div id="on_open_failed-method" class="method-detail ">
          <a name="method-i-on_open_failed"></a>

          
          <div class="method-heading">
            <span class="method-name">on_open_failed</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Registers a callback on all component channels, to be invoked when the
remote server is unable to open the channel. The callback will be invoked
with three arguments: the channel object that couldn’t be opened, a
description of the error (as a string), and an integer code representing
the error.</p>

<pre>channel.on_open_failed do |ch, description, code|
  # ...
end</pre>
            

            
            <div class="method-source-code" id="on_open_failed-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_open_failed</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_open_failed</span>(&amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_open_failed-source -->
            
          </div>

          

          
        </div><!-- on_open_failed-method -->

      
        <div id="on_process-method" class="method-detail ">
          <a name="method-i-on_process"></a>

          
          <div class="method-heading">
            <span class="method-name">on_process</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Registers a callback on all component channels, to be invoked during the
idle portion of the connection event loop. The callback will be invoked
with one argument: the specific channel object being processed.</p>

<pre>channel.on_process do |ch|
  # ...
end</pre>
            

            
            <div class="method-source-code" id="on_process-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_process</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_process</span>(&amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_process-source -->
            
          </div>

          

          
        </div><!-- on_process-method -->

      
        <div id="on_request-method" class="method-detail ">
          <a name="method-i-on_request"></a>

          
          <div class="method-heading">
            <span class="method-name">on_request</span><span
              class="method-args">(type, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Registers a callback on all component channels, to be invoked when the
remote server sends a channel request of the given <tt>type</tt>. The
callback will be invoked with two arguments: the specific channel object
receiving the request, and a Net::SSH::Buffer instance containing the
request-specific data.</p>

<pre>channel.on_request(&quot;exit-status&quot;) do |ch, data|
  puts &quot;exited with #{data.read_long}&quot;
end</pre>
            

            
            <div class="method-source-code" id="on_request-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_request</span>(<span class="ruby-identifier">type</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">on_request</span>(<span class="ruby-identifier">type</span>, &amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_request-source -->
            
          </div>

          

          
        </div><!-- on_request-method -->

      
        <div id="request_pty-method" class="method-detail ">
          <a name="method-i-request_pty"></a>

          
          <div class="method-heading">
            <span class="method-name">request_pty</span><span
              class="method-args">(opts={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Perform a <tt>request_pty</tt> command on all component channels. The
block, if given, is passed to each component channel, so it will
(potentially) be invoked once for every channel in the collection. The
block will receive two parameters: the specific channel object being
operated on, and a boolean indicating whether the pty request succeeded or
not.</p>

<pre>channel.request_pty do |ch, success|
  # ...
end</pre>

<p>See the documentation in <a href="../../SSH.html">Net::SSH</a> for
Net::SSH::Connection::Channel#request_pty for more information on how to
work with the callback.</p>
            

            
            <div class="method-source-code" id="request_pty-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">request_pty</span>(<span class="ruby-identifier">opts</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">request_pty</span>(<span class="ruby-identifier">opts</span>, &amp;<span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- request_pty-source -->
            
          </div>

          

          
        </div><!-- request_pty-method -->

      
        <div id="send_data-method" class="method-detail ">
          <a name="method-i-send_data"></a>

          
          <div class="method-heading">
            <span class="method-name">send_data</span><span
              class="method-args">(data)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Send the given <tt>data</tt> to each component channel. It will be sent to
the remote process, typically being received on the process’ <tt>stdin</tt>
stream.</p>

<pre>channel.send_data &quot;password\n&quot;</pre>
            

            
            <div class="method-source-code" id="send_data-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">send_data</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-identifier">channels</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">channel</span><span class="ruby-operator">|</span> <span class="ruby-identifier">channel</span>.<span class="ruby-identifier">send_data</span>(<span class="ruby-identifier">data</span>) }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- send_data-source -->
            
          </div>

          

          
        </div><!-- send_data-method -->

      
        <div id="wait-method" class="method-detail ">
          <a name="method-i-wait"></a>

          
          <div class="method-heading">
            <span class="method-name">wait</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Runs the connection’s event loop until the channel is no longer active (see
<a href="Channel.html#method-i-active-3F">active?</a>).</p>

<pre>channel.exec &quot;something&quot;
channel.wait</pre>
            

            
            <div class="method-source-code" id="wait-source">
<pre>
<span class="ruby-comment"># File lib/net/ssh/multi/channel.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">wait</span>
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">loop</span> { <span class="ruby-identifier">active?</span> }
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- wait-source -->
            
          </div>

          

          
        </div><!-- wait-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

