<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Object</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./lib/ohai/plugins/sigar/network_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/sigar/network.rb">lib/ohai/plugins/sigar/network.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/sigar/network_route_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/sigar/network_route.rb">lib/ohai/plugins/sigar/network_route.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/uptime_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/uptime.rb">lib/ohai/plugins/uptime.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/ssh_host_key_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/ssh_host_key.rb">lib/ohai/plugins/ssh_host_key.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/darwin/network_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/darwin/network.rb">lib/ohai/plugins/darwin/network.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/windows/kernel_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/windows/kernel.rb">lib/ohai/plugins/windows/kernel.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/windows/network_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/windows/network.rb">lib/ohai/plugins/windows/network.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/linux/platform_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/linux/platform.rb">lib/ohai/plugins/linux/platform.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/linux/network_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/linux/network.rb">lib/ohai/plugins/linux/network.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/linode_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/linode.rb">lib/ohai/plugins/linode.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/cloud_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/cloud.rb">lib/ohai/plugins/cloud.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/solaris2/network_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/solaris2/network.rb">lib/ohai/plugins/solaris2/network.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/rackspace_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/rackspace.rb">lib/ohai/plugins/rackspace.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/passwd_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/passwd.rb">lib/ohai/plugins/passwd.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/ruby_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/ruby.rb">lib/ohai/plugins/ruby.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/ec2_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/ec2.rb">lib/ohai/plugins/ec2.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/eucalyptus_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/eucalyptus.rb">lib/ohai/plugins/eucalyptus.rb</a></li>
          
            <li><a href="./lib/ohai/plugins/network_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ohai/plugins/network.rb">lib/ohai/plugins/network.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">BasicObject</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-_seconds_to_human">#_seconds_to_human</a></li>
          
          <li><a href="#method-i-arpname_to_ifname">#arpname_to_ifname</a></li>
          
          <li><a href="#method-i-create_objects">#create_objects</a></li>
          
          <li><a href="#method-i-encaps_lookup">#encaps_lookup</a></li>
          
          <li><a href="#method-i-excluded_setting-3F">#excluded_setting?</a></li>
          
          <li><a href="#method-i-find_ip">#find_ip</a></li>
          
          <li><a href="#method-i-find_mac_from_iface">#find_mac_from_iface</a></li>
          
          <li><a href="#method-i-fix_encoding">#fix_encoding</a></li>
          
          <li><a href="#method-i-flags">#flags</a></li>
          
          <li><a href="#method-i-get_ec2_values">#get_ec2_values</a></li>
          
          <li><a href="#method-i-get_eucalyptus_values">#get_eucalyptus_values</a></li>
          
          <li><a href="#method-i-get_global_ipv6_address">#get_global_ipv6_address</a></li>
          
          <li><a href="#method-i-get_ip_address">#get_ip_address</a></li>
          
          <li><a href="#method-i-get_linode_values">#get_linode_values</a></li>
          
          <li><a href="#method-i-get_mac_address">#get_mac_address</a></li>
          
          <li><a href="#method-i-get_openstack_values">#get_openstack_values</a></li>
          
          <li><a href="#method-i-get_rackspace_values">#get_rackspace_values</a></li>
          
          <li><a href="#method-i-get_redhatish_platform">#get_redhatish_platform</a></li>
          
          <li><a href="#method-i-get_redhatish_version">#get_redhatish_version</a></li>
          
          <li><a href="#method-i-get_region">#get_region</a></li>
          
          <li><a href="#method-i-has_ec2_mac-3F">#has_ec2_mac?</a></li>
          
          <li><a href="#method-i-has_euca_mac-3F">#has_euca_mac?</a></li>
          
          <li><a href="#method-i-has_linode_kernel-3F">#has_linode_kernel?</a></li>
          
          <li><a href="#method-i-has_rackspace_kernel-3F">#has_rackspace_kernel?</a></li>
          
          <li><a href="#method-i-has_rackspace_mac-3F">#has_rackspace_mac?</a></li>
          
          <li><a href="#method-i-is_dsa_or_rsa-3F">#is_dsa_or_rsa?</a></li>
          
          <li><a href="#method-i-locate_interface">#locate_interface</a></li>
          
          <li><a href="#method-i-looks_like_ec2-3F">#looks_like_ec2?</a></li>
          
          <li><a href="#method-i-looks_like_euca-3F">#looks_like_euca?</a></li>
          
          <li><a href="#method-i-looks_like_linode-3F">#looks_like_linode?</a></li>
          
          <li><a href="#method-i-looks_like_rackspace-3F">#looks_like_rackspace?</a></li>
          
          <li><a href="#method-i-machine_lookup">#machine_lookup</a></li>
          
          <li><a href="#method-i-network_contains_address">#network_contains_address</a></li>
          
          <li><a href="#method-i-on_ec2-3F">#on_ec2?</a></li>
          
          <li><a href="#method-i-on_eucalyptus-3F">#on_eucalyptus?</a></li>
          
          <li><a href="#method-i-on_linode-3F">#on_linode?</a></li>
          
          <li><a href="#method-i-on_openstack-3F">#on_openstack?</a></li>
          
          <li><a href="#method-i-on_rackspace-3F">#on_rackspace?</a></li>
          
          <li><a href="#method-i-os_lookup">#os_lookup</a></li>
          
          <li><a href="#method-i-parse_media">#parse_media</a></li>
          
          <li><a href="#method-i-run_ruby">#run_ruby</a></li>
          
          <li><a href="#method-i-scope_lookup">#scope_lookup</a></li>
          
          <li><a href="#method-i-sorted_ips">#sorted_ips</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./Ohai.html">Ohai</a></li>
        
          <li><a href="./Ohai/Application.html">Ohai::Application</a></li>
        
          <li><a href="./Ohai/Config.html">Ohai::Config</a></li>
        
          <li><a href="./Ohai/Exceptions.html">Ohai::Exceptions</a></li>
        
          <li><a href="./Ohai/Exceptions/Exec.html">Ohai::Exceptions::Exec</a></li>
        
          <li><a href="./Ohai/Log.html">Ohai::Log</a></li>
        
          <li><a href="./Ohai/Mixin.html">Ohai::Mixin</a></li>
        
          <li><a href="./Ohai/Mixin/Command.html">Ohai::Mixin::Command</a></li>
        
          <li><a href="./Ohai/Mixin/Ec2Metadata.html">Ohai::Mixin::Ec2Metadata</a></li>
        
          <li><a href="./Ohai/Mixin/FromFile.html">Ohai::Mixin::FromFile</a></li>
        
          <li><a href="./Ohai/System.html">Ohai::System</a></li>
        
          <li><a href="./DMI.html">DMI</a></li>
        
          <li><a href="./Mash.html">Mash</a></li>
        
          <li><a href="./Object.html">Object</a></li>
        
          <li><a href="./String.html">String</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Object</h1>

    <div id="description" class="description">
      
    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="FAMILIES">FAMILIES</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="IPROUTE_INT_REGEX">IPROUTE_INT_REGEX</a></dt>
          
          <dd class="description"><p>Match the lead line for an interface from iproute2 3: eth0.11@eth0:
&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP 
The ‘@eth0:’ portion doesn’t exist on primary interfaces and thus is
optional in the regex</p></dd>
          
        
          <dt><a name="SIGAR_ROUTE_METHODS">SIGAR_ROUTE_METHODS</a></dt>
          
          <dd class="description"><p>From sigar: include/sigar.h sigar_net_route_t</p></dd>
          
        
        </dl>
      </div>
      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="_seconds_to_human-method" class="method-detail ">
          <a name="method-i-_seconds_to_human"></a>

          
          <div class="method-heading">
            <span class="method-name">_seconds_to_human</span><span
              class="method-args">(seconds)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <table class="rdoc-list"><tr><td class="rdoc-term"><p>Author</p></td>
<td>
<p>Adam Jacob (&lt;adam@opscode.com&gt;)</p>
</td></tr><tr><td class="rdoc-term"><p>Copyright</p></td>
<td>
<p>Copyright © 2008 Opscode, Inc.</p>
</td></tr><tr><td class="rdoc-term"><p>License</p></td>
<td>
<p>Apache License, Version 2.0</p>
</td></tr></table>

<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not
use this file except in compliance with the License. You may obtain a copy
of the License at</p>

<pre>http://www.apache.org/licenses/LICENSE-2.0</pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</p>
            

            
            <div class="method-source-code" id="_seconds_to_human-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/uptime.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">_seconds_to_human</span>(<span class="ruby-identifier">seconds</span>)
  <span class="ruby-identifier">days</span> = <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">/</span> <span class="ruby-value">86400</span>
  <span class="ruby-identifier">seconds</span> <span class="ruby-operator">-=</span> <span class="ruby-value">86400</span> * <span class="ruby-identifier">days</span>
  
  <span class="ruby-identifier">hours</span> = <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">/</span> <span class="ruby-value">3600</span>
  <span class="ruby-identifier">seconds</span> <span class="ruby-operator">-=</span> <span class="ruby-value">3600</span> * <span class="ruby-identifier">hours</span>
  
  <span class="ruby-identifier">minutes</span> = <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">/</span> <span class="ruby-value">60</span>
  <span class="ruby-identifier">seconds</span> <span class="ruby-operator">-=</span> <span class="ruby-value">60</span> * <span class="ruby-identifier">minutes</span>
    
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">days</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d days %02d hours %02d minutes %02d seconds&quot;</span>, <span class="ruby-identifier">days</span>, <span class="ruby-identifier">hours</span>, <span class="ruby-identifier">minutes</span>, <span class="ruby-identifier">seconds</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">days</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d day %02d hours %02d minutes %02d seconds&quot;</span>, <span class="ruby-identifier">days</span>, <span class="ruby-identifier">hours</span>, <span class="ruby-identifier">minutes</span>, <span class="ruby-identifier">seconds</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">hours</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d hours %02d minutes %02d seconds&quot;</span>, <span class="ruby-identifier">hours</span>, <span class="ruby-identifier">minutes</span>, <span class="ruby-identifier">seconds</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">minutes</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%d minutes %02d seconds&quot;</span>, <span class="ruby-identifier">minutes</span>, <span class="ruby-identifier">seconds</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%02d seconds&quot;</span>, <span class="ruby-identifier">seconds</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- _seconds_to_human-source -->
            
          </div>

          

          
        </div><!-- _seconds_to_human-method -->

      
        <div id="arpname_to_ifname-method" class="method-detail ">
          <a name="method-i-arpname_to_ifname"></a>

          
          <div class="method-heading">
            <span class="method-name">arpname_to_ifname</span><span
              class="method-args">(iface, arpname)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="arpname_to_ifname-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/solaris2/network.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">arpname_to_ifname</span>(<span class="ruby-identifier">iface</span>, <span class="ruby-identifier">arpname</span>)
  <span class="ruby-identifier">iface</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ifn</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">ifn</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ifn</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">':'</span>)[<span class="ruby-value">0</span>].<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">arpname</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- arpname_to_ifname-source -->
            
          </div>

          

          
        </div><!-- arpname_to_ifname-method -->

      
        <div id="create_objects-method" class="method-detail ">
          <a name="method-i-create_objects"></a>

          
          <div class="method-heading">
            <span class="method-name">create_objects</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Make top-level cloud hashes</p>
            

            
            <div class="method-source-code" id="create_objects-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_objects</span>
  <span class="ruby-identifier">cloud</span> <span class="ruby-constant">Mash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ips</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:private_ips</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_objects-source -->
            
          </div>

          

          
        </div><!-- create_objects-method -->

      
        <div id="encaps_lookup-method" class="method-detail ">
          <a name="method-i-encaps_lookup"></a>

          
          <div class="method-heading">
            <span class="method-name">encaps_lookup</span><span
              class="method-args">(encap)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="encaps_lookup-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/sigar/network.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">encaps_lookup</span>(<span class="ruby-identifier">encap</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Loopback&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">encap</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;Local Loopback&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;PPP&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">encap</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;Point-to-Point Protocol&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;SLIP&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">encap</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;Serial Line IP&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;VJSLIP&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">encap</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;VJ Serial Line IP&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;IPIP&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">encap</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;IPIP Tunnel&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;6to4&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">encap</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;IPv6-in-IPv4&quot;</span>)
  <span class="ruby-identifier">encap</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- encaps_lookup-source -->
            
          </div>

          

          
        </div><!-- encaps_lookup-method -->

      
        <div id="excluded_setting-3F-method" class="method-detail ">
          <a name="method-i-excluded_setting-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">excluded_setting?</span><span
              class="method-args">(setting)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="excluded_setting-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/darwin/network.rb, line 80</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">excluded_setting?</span>(<span class="ruby-identifier">setting</span>)
  <span class="ruby-identifier">setting</span>.<span class="ruby-identifier">match</span>(<span class="ruby-string">'_sw_cksum'</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- excluded_setting-3F-source -->
            
          </div>

          

          
        </div><!-- excluded_setting-3F-method -->

      
        <div id="find_ip-method" class="method-detail ">
          <a name="method-i-find_ip"></a>

          
          <div class="method-heading">
            <span class="method-name">find_ip</span><span
              class="method-args">(family = "inet")</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="find_ip-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/network.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_ip</span>(<span class="ruby-identifier">family</span> = <span class="ruby-string">&quot;inet&quot;</span>)
  <span class="ruby-identifier">r</span>=<span class="ruby-identifier">sorted_ips</span>(<span class="ruby-identifier">family</span>)

  <span class="ruby-comment"># return if there isn't any #{family} address !</span>
  <span class="ruby-keyword">return</span> [ <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span> ] <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-comment"># shortcuts to access default #{family} interface and gateway</span>
  <span class="ruby-identifier">int_attr</span> = <span class="ruby-constant">FAMILIES</span>[<span class="ruby-identifier">family</span>] <span class="ruby-operator">+</span><span class="ruby-string">&quot;_interface&quot;</span>
  <span class="ruby-identifier">gw_attr</span> = <span class="ruby-constant">FAMILIES</span>[<span class="ruby-identifier">family</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;_gateway&quot;</span>

  <span class="ruby-comment"># If we have a default interface that has addresses,</span>
  <span class="ruby-comment"># populate the short-cut attributes</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">network</span>[<span class="ruby-identifier">int_attr</span>]

    <span class="ruby-comment"># network[int_attr] exists, the choosen ip must be exist on this interface</span>
    <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">v</span>[<span class="ruby-value">:iface</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">network</span>[<span class="ruby-identifier">int_attr</span>]
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;[#{family}] no ip on #{network[int_attr]}&quot;</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">network</span>[<span class="ruby-identifier">gw_attr</span>] <span class="ruby-keyword">and</span>
        <span class="ruby-identifier">network</span>[<span class="ruby-string">&quot;interfaces&quot;</span>][<span class="ruby-identifier">network</span>[<span class="ruby-identifier">int_attr</span>]] <span class="ruby-keyword">and</span>
        <span class="ruby-identifier">network</span>[<span class="ruby-string">&quot;interfaces&quot;</span>][<span class="ruby-identifier">network</span>[<span class="ruby-identifier">int_attr</span>]][<span class="ruby-string">&quot;addresses&quot;</span>]
      <span class="ruby-keyword">if</span> [ <span class="ruby-string">&quot;0.0.0.0&quot;</span>, <span class="ruby-string">&quot;::&quot;</span> ].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">network</span>[<span class="ruby-identifier">gw_attr</span>]
        <span class="ruby-comment"># link level default route</span>
        <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-node">&quot;link level default #{family} route, picking ip from #{network[gw_attr]}&quot;</span>)
        <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">network_contains_address</span>(<span class="ruby-identifier">network</span>[<span class="ruby-identifier">gw_attr</span>], <span class="ruby-identifier">v</span>[<span class="ruby-value">:ipaddress</span>], <span class="ruby-identifier">v</span>[<span class="ruby-value">:iface</span>])
        <span class="ruby-keyword">end</span>.<span class="ruby-identifier">first</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;[#{family}] no ipaddress/mask on #{network[int_attr]} matching the gateway #{network[gw_attr]}&quot;</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-node">&quot;[#{family}] Using default interface #{network[int_attr]} and default gateway #{network[gw_attr]} to set the default ip to #{r[:ipaddress]}&quot;</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># return the first ip address on network[int_attr]</span>
      <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">info</span>(<span class="ruby-node">&quot;[#{family}] no default interface, picking the first ipaddress&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> [ <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span> ] <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">empty?</span>

  [ <span class="ruby-identifier">r</span>[<span class="ruby-value">:ipaddress</span>].<span class="ruby-identifier">to_s</span>, <span class="ruby-identifier">r</span>[<span class="ruby-value">:iface</span>] ]
<span class="ruby-keyword">end</span></pre>
            </div><!-- find_ip-source -->
            
          </div>

          

          
        </div><!-- find_ip-method -->

      
        <div id="find_mac_from_iface-method" class="method-detail ">
          <a name="method-i-find_mac_from_iface"></a>

          
          <div class="method-heading">
            <span class="method-name">find_mac_from_iface</span><span
              class="method-args">(iface)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="find_mac_from_iface-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/network.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_mac_from_iface</span>(<span class="ruby-identifier">iface</span>)
  <span class="ruby-identifier">r</span> = <span class="ruby-identifier">network</span>[<span class="ruby-string">&quot;interfaces&quot;</span>][<span class="ruby-identifier">iface</span>][<span class="ruby-string">&quot;addresses&quot;</span>].<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>[<span class="ruby-string">&quot;family&quot;</span>]<span class="ruby-operator">==</span><span class="ruby-string">&quot;lladdr&quot;</span>}
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- find_mac_from_iface-source -->
            
          </div>

          

          
        </div><!-- find_mac_from_iface-method -->

      
        <div id="fix_encoding-method" class="method-detail ">
          <a name="method-i-fix_encoding"></a>

          
          <div class="method-heading">
            <span class="method-name">fix_encoding</span><span
              class="method-args">(str)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="fix_encoding-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/passwd.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fix_encoding</span>(<span class="ruby-identifier">str</span>)
  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:force_encoding</span>)
  <span class="ruby-identifier">str</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- fix_encoding-source -->
            
          </div>

          

          
        </div><!-- fix_encoding-method -->

      
        <div id="flags-method" class="method-detail ">
          <a name="method-i-flags"></a>

          
          <div class="method-heading">
            <span class="method-name">flags</span><span
              class="method-args">(flags)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="flags-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/sigar/network_route.rb, line 24</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flags</span>(<span class="ruby-identifier">flags</span>)
  <span class="ruby-identifier">f</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">flags</span> &amp; <span class="ruby-constant">Sigar</span><span class="ruby-operator">::</span><span class="ruby-constant">RTF_UP</span>) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">f</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;U&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">flags</span> &amp; <span class="ruby-constant">Sigar</span><span class="ruby-operator">::</span><span class="ruby-constant">RTF_GATEWAY</span>) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">f</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;G&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">flags</span> &amp; <span class="ruby-constant">Sigar</span><span class="ruby-operator">::</span><span class="ruby-constant">RTF_HOST</span>) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">f</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;H&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">f</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- flags-source -->
            
          </div>

          

          
        </div><!-- flags-method -->

      
        <div id="get_ec2_values-method" class="method-detail ">
          <a name="method-i-get_ec2_values"></a>

          
          <div class="method-heading">
            <span class="method-name">get_ec2_values</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Fill cloud hash with ec2 values</p>
            

            
            <div class="method-source-code" id="get_ec2_values-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_ec2_values</span>
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ec2</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:private_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ec2</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ipv4</span>] = <span class="ruby-identifier">ec2</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_hostname</span>] = <span class="ruby-identifier">ec2</span>[<span class="ruby-string">'public_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_ipv4</span>] = <span class="ruby-identifier">ec2</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_hostname</span>] = <span class="ruby-identifier">ec2</span>[<span class="ruby-string">'local_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:provider</span>] = <span class="ruby-string">&quot;ec2&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_ec2_values-source -->
            
          </div>

          

          
        </div><!-- get_ec2_values-method -->

      
        <div id="get_eucalyptus_values-method" class="method-detail ">
          <a name="method-i-get_eucalyptus_values"></a>

          
          <div class="method-heading">
            <span class="method-name">get_eucalyptus_values</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="get_eucalyptus_values-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_eucalyptus_values</span>
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">eucalyptus</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:private_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">eucalyptus</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ipv4</span>] = <span class="ruby-identifier">eucalyptus</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_hostname</span>] = <span class="ruby-identifier">eucalyptus</span>[<span class="ruby-string">'public_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_ipv4</span>] = <span class="ruby-identifier">eucalyptus</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_hostname</span>] = <span class="ruby-identifier">eucalyptus</span>[<span class="ruby-string">'local_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:provider</span>] = <span class="ruby-string">&quot;eucalyptus&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_eucalyptus_values-source -->
            
          </div>

          

          
        </div><!-- get_eucalyptus_values-method -->

      
        <div id="get_global_ipv6_address-method" class="method-detail ">
          <a name="method-i-get_global_ipv6_address"></a>

          
          <div class="method-heading">
            <span class="method-name">get_global_ipv6_address</span><span
              class="method-args">(name, eth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Names rackspace ipv6 address for interface</p>

<h3>Parameters</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>name&lt;Symbol&gt;</p></td>
<td>
<p>Use :public_ip or :private_ip</p>
</td></tr><tr><td class="rdoc-term"><p>eth&lt;Symbol&gt;</p></td>
<td>
<p>Interface name of public or private ip</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="get_global_ipv6_address-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/rackspace.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_global_ipv6_address</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">eth</span>)
  <span class="ruby-identifier">network</span>[<span class="ruby-value">:interfaces</span>][<span class="ruby-identifier">eth</span>][<span class="ruby-value">:addresses</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">info</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># check if we got an ipv6 address and if its in global scope</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-string">'family'</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'inet6'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">info</span>[<span class="ruby-string">'scope'</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'Global'</span>
      <span class="ruby-identifier">rackspace</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">key</span> 
      <span class="ruby-keyword">break</span> <span class="ruby-comment"># break when we found an address</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_global_ipv6_address-source -->
            
          </div>

          

          
        </div><!-- get_global_ipv6_address-method -->

      
        <div id="get_ip_address-method" class="method-detail ">
          <a name="method-i-get_ip_address"></a>

          
          <div class="method-heading">
            <span class="method-name">get_ip_address</span><span
              class="method-args">(name, eth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Names linode ip address</p>

<p>name - symbol of ohai name (e.g. :public_ip) eth - Interface name (e.g.
:eth0)</p>

<p>Alters linode mash with new interface based on name parameter</p>
            

            
            <div class="method-source-code" id="get_ip_address-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/linode.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_ip_address</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">eth</span>)
  <span class="ruby-identifier">network</span>[<span class="ruby-value">:interfaces</span>][<span class="ruby-identifier">eth</span>][<span class="ruby-value">:addresses</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">info</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">linode</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">key</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">info</span>[<span class="ruby-string">'family'</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'inet'</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_ip_address-source -->
            
          </div>

          

          
        </div><!-- get_ip_address-method -->

      
        <div id="get_linode_values-method" class="method-detail ">
          <a name="method-i-get_linode_values"></a>

          
          <div class="method-heading">
            <span class="method-name">get_linode_values</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Fill cloud hash with linode values</p>
            

            
            <div class="method-source-code" id="get_linode_values-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_linode_values</span>
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">linode</span>[<span class="ruby-string">'public_ip'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:private_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">linode</span>[<span class="ruby-string">'private_ip'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ipv4</span>] = <span class="ruby-identifier">linode</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_hostname</span>] = <span class="ruby-identifier">linode</span>[<span class="ruby-string">'public_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_ipv4</span>] = <span class="ruby-identifier">linode</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_hostname</span>] = <span class="ruby-identifier">linode</span>[<span class="ruby-string">'local_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:provider</span>] = <span class="ruby-string">&quot;linode&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_linode_values-source -->
            
          </div>

          

          
        </div><!-- get_linode_values-method -->

      
        <div id="get_mac_address-method" class="method-detail ">
          <a name="method-i-get_mac_address"></a>

          
          <div class="method-heading">
            <span class="method-name">get_mac_address</span><span
              class="method-args">(addresses)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="get_mac_address-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/eucalyptus.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_mac_address</span>(<span class="ruby-identifier">addresses</span>)
  <span class="ruby-identifier">detected_addresses</span> = <span class="ruby-identifier">addresses</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">address</span>, <span class="ruby-identifier">keypair</span><span class="ruby-operator">|</span> <span class="ruby-identifier">keypair</span> <span class="ruby-operator">==</span> {<span class="ruby-string">&quot;family&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;lladdr&quot;</span>} }
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">detected_addresses</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">detected_addresses</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_mac_address-source -->
            
          </div>

          

          
        </div><!-- get_mac_address-method -->

      
        <div id="get_openstack_values-method" class="method-detail ">
          <a name="method-i-get_openstack_values"></a>

          
          <div class="method-heading">
            <span class="method-name">get_openstack_values</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Fill cloud hash with openstack values</p>
            

            
            <div class="method-source-code" id="get_openstack_values-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 167</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_openstack_values</span>
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">openstack</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:private_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">openstack</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ipv4</span>] = <span class="ruby-identifier">openstack</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_hostname</span>] = <span class="ruby-identifier">openstack</span>[<span class="ruby-string">'public_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_ipv4</span>] = <span class="ruby-identifier">openstack</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_hostname</span>] = <span class="ruby-identifier">openstack</span>[<span class="ruby-string">'local_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:provider</span>] = <span class="ruby-identifier">openstack</span>[<span class="ruby-string">'provider'</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_openstack_values-source -->
            
          </div>

          

          
        </div><!-- get_openstack_values-method -->

      
        <div id="get_rackspace_values-method" class="method-detail ">
          <a name="method-i-get_rackspace_values"></a>

          
          <div class="method-heading">
            <span class="method-name">get_rackspace_values</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Fill cloud hash with rackspace values</p>
            

            
            <div class="method-source-code" id="get_rackspace_values-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_rackspace_values</span> 
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'public_ipv4'</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:private_ips</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'local_ipv4'</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ipv4</span>] = <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'public_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_ipv6</span>] = <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'public_ipv6'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:public_hostname</span>] = <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'public_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_ipv4</span>] = <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'local_ipv4'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_ipv6</span>] = <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'local_ipv6'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:local_hostname</span>] = <span class="ruby-identifier">rackspace</span>[<span class="ruby-string">'local_hostname'</span>]
  <span class="ruby-identifier">cloud</span>[<span class="ruby-value">:provider</span>] = <span class="ruby-string">&quot;rackspace&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_rackspace_values-source -->
            
          </div>

          

          
        </div><!-- get_rackspace_values-method -->

      
        <div id="get_redhatish_platform-method" class="method-detail ">
          <a name="method-i-get_redhatish_platform"></a>

          
          <div class="method-heading">
            <span class="method-name">get_redhatish_platform</span><span
              class="method-args">(contents)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <table class="rdoc-list"><tr><td class="rdoc-term"><p>Author</p></td>
<td>
<p>Adam Jacob (&lt;adam@opscode.com&gt;)</p>
</td></tr><tr><td class="rdoc-term"><p>Copyright</p></td>
<td>
<p>Copyright © 2008 Opscode, Inc.</p>
</td></tr><tr><td class="rdoc-term"><p>License</p></td>
<td>
<p>Apache License, Version 2.0</p>
</td></tr></table>

<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not
use this file except in compliance with the License. You may obtain a copy
of the License at</p>

<pre>http://www.apache.org/licenses/LICENSE-2.0</pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.</p>
            

            
            <div class="method-source-code" id="get_redhatish_platform-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/linux/platform.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_redhatish_platform</span>(<span class="ruby-identifier">contents</span>)
  <span class="ruby-identifier">contents</span>[<span class="ruby-regexp">/^Red Hat/</span>] <span class="ruby-operator">?</span> <span class="ruby-string">&quot;redhat&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">contents</span>[<span class="ruby-regexp">/(\w+)/</span>, <span class="ruby-value">1</span>].<span class="ruby-identifier">downcase</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_redhatish_platform-source -->
            
          </div>

          

          
        </div><!-- get_redhatish_platform-method -->

      
        <div id="get_redhatish_version-method" class="method-detail ">
          <a name="method-i-get_redhatish_version"></a>

          
          <div class="method-heading">
            <span class="method-name">get_redhatish_version</span><span
              class="method-args">(contents)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="get_redhatish_version-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/linux/platform.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_redhatish_version</span>(<span class="ruby-identifier">contents</span>)
  <span class="ruby-identifier">contents</span>[<span class="ruby-regexp">/Rawhide/</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">contents</span>[<span class="ruby-regexp">/((\d+) \(Rawhide\))/</span>, <span class="ruby-value">1</span>].<span class="ruby-identifier">downcase</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">contents</span>[<span class="ruby-regexp">/release ([\d\.]+)/</span>, <span class="ruby-value">1</span>]
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_redhatish_version-source -->
            
          </div>

          

          
        </div><!-- get_redhatish_version-method -->

      
        <div id="get_region-method" class="method-detail ">
          <a name="method-i-get_region"></a>

          
          <div class="method-heading">
            <span class="method-name">get_region</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get the rackspace region</p>
            

            
            <div class="method-source-code" id="get_region-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/rackspace.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_region</span>()
  <span class="ruby-identifier">status</span>, <span class="ruby-identifier">stdout</span>, <span class="ruby-identifier">stderr</span> = <span class="ruby-identifier">run_command</span>(<span class="ruby-value">:no_status_check</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:command</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;xenstore-ls vm-data/provider_data&quot;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">stdout</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">rackspace</span>[<span class="ruby-value">:region</span>] = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">split</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">delete</span>(<span class="ruby-string">'\&quot;'</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^region/</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Exceptions</span><span class="ruby-operator">::</span><span class="ruby-constant">Exec</span>
  <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-string">&quot;Unable to find xenstore-ls, cannot capture region information for Rackspace cloud&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_region-source -->
            
          </div>

          

          
        </div><!-- get_region-method -->

      
        <div id="has_ec2_mac-3F-method" class="method-detail ">
          <a name="method-i-has_ec2_mac-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">has_ec2_mac?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="has_ec2_mac-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/ec2.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_ec2_mac?</span>
  <span class="ruby-identifier">network</span>[<span class="ruby-value">:interfaces</span>].<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">iface</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">iface</span>[<span class="ruby-value">:arp</span>].<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">iface</span>[<span class="ruby-value">:arp</span>].<span class="ruby-identifier">value?</span>(<span class="ruby-string">&quot;fe:ff:ff:ff:ff:ff&quot;</span>)
        <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-string">&quot;has_ec2_mac? == true&quot;</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-string">&quot;has_ec2_mac? == false&quot;</span>)
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- has_ec2_mac-3F-source -->
            
          </div>

          

          
        </div><!-- has_ec2_mac-3F-method -->

      
        <div id="has_euca_mac-3F-method" class="method-detail ">
          <a name="method-i-has_euca_mac-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">has_euca_mac?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="has_euca_mac-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/eucalyptus.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_euca_mac?</span>
  <span class="ruby-identifier">network</span>[<span class="ruby-value">:interfaces</span>].<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">iface</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">has_mac</span> = (<span class="ruby-identifier">get_mac_address</span>(<span class="ruby-identifier">iface</span>[<span class="ruby-value">:addresses</span>]) <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^[dD]0:0[dD]:/</span>)
    <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-node">&quot;has_euca_mac? == #{!!has_mac}&quot;</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_mac</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Ohai</span><span class="ruby-operator">::</span><span class="ruby-constant">Log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-string">&quot;has_euca_mac? == false&quot;</span>)
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- has_euca_mac-3F-source -->
            
          </div>

          

          
        </div><!-- has_euca_mac-3F-method -->

      
        <div id="has_linode_kernel-3F-method" class="method-detail ">
          <a name="method-i-has_linode_kernel-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">has_linode_kernel?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Checks for matching linode kernel name</p>

<p>Returns true or false</p>
            

            
            <div class="method-source-code" id="has_linode_kernel-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/linode.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_linode_kernel?</span>
  <span class="ruby-identifier">kernel</span>[<span class="ruby-value">:release</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">'-'</span>).<span class="ruby-identifier">last</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/linode/</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- has_linode_kernel-3F-source -->
            
          </div>

          

          
        </div><!-- has_linode_kernel-3F-method -->

      
        <div id="has_rackspace_kernel-3F-method" class="method-detail ">
          <a name="method-i-has_rackspace_kernel-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">has_rackspace_kernel?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Checks for matching rackspace kernel name</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If kernel name matches</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="has_rackspace_kernel-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/rackspace.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_rackspace_kernel?</span>
  <span class="ruby-identifier">kernel</span>[<span class="ruby-value">:release</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">'-'</span>).<span class="ruby-identifier">last</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;rscloud&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- has_rackspace_kernel-3F-source -->
            
          </div>

          

          
        </div><!-- has_rackspace_kernel-3F-method -->

      
        <div id="has_rackspace_mac-3F-method" class="method-detail ">
          <a name="method-i-has_rackspace_mac-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">has_rackspace_mac?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Checks for matching rackspace arp mac</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If mac address matches</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="has_rackspace_mac-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/rackspace.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">has_rackspace_mac?</span>
  <span class="ruby-identifier">network</span>[<span class="ruby-value">:interfaces</span>].<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">iface</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">iface</span>[<span class="ruby-value">:arp</span>].<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">iface</span>[<span class="ruby-value">:arp</span>].<span class="ruby-identifier">value?</span>(<span class="ruby-string">&quot;00:00:0c:07:ac:01&quot;</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">iface</span>[<span class="ruby-value">:arp</span>].<span class="ruby-identifier">value?</span>(<span class="ruby-string">&quot;00:00:0c:9f:f0:01&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- has_rackspace_mac-3F-source -->
            
          </div>

          

          
        </div><!-- has_rackspace_mac-3F-method -->

      
        <div id="is_dsa_or_rsa-3F-method" class="method-detail ">
          <a name="method-i-is_dsa_or_rsa-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">is_dsa_or_rsa?</span><span
              class="method-args">(file)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="is_dsa_or_rsa-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/ssh_host_key.rb, line 24</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">is_dsa_or_rsa?</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">file</span>).<span class="ruby-identifier">split</span>[<span class="ruby-value">0</span>]
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;ssh-dss&quot;</span>
    <span class="ruby-string">&quot;dsa&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;ssh-rsa&quot;</span>
    <span class="ruby-string">&quot;rsa&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- is_dsa_or_rsa-3F-source -->
            
          </div>

          

          
        </div><!-- is_dsa_or_rsa-3F-method -->

      
        <div id="locate_interface-method" class="method-detail ">
          <a name="method-i-locate_interface"></a>

          
          <div class="method-heading">
            <span class="method-name">locate_interface</span><span
              class="method-args">(ifaces, ifname, mac)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="locate_interface-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/darwin/network.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">locate_interface</span>(<span class="ruby-identifier">ifaces</span>, <span class="ruby-identifier">ifname</span>, <span class="ruby-identifier">mac</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ifname</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">ifaces</span>[<span class="ruby-identifier">ifname</span>].<span class="ruby-identifier">nil?</span>
  <span class="ruby-comment"># oh well, time to go hunting!</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ifname</span>.<span class="ruby-identifier">chop</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ifname</span>.<span class="ruby-identifier">match</span> <span class="ruby-regexp">/\*$/</span>
  <span class="ruby-identifier">ifaces</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ifc</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">ifaces</span>[<span class="ruby-identifier">ifc</span>][<span class="ruby-value">:addresses</span>].<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">addr</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">ifc</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">addr</span>.<span class="ruby-identifier">eql?</span> <span class="ruby-identifier">mac</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- locate_interface-source -->
            
          </div>

          

          
        </div><!-- locate_interface-method -->

      
        <div id="looks_like_ec2-3F-method" class="method-detail ">
          <a name="method-i-looks_like_ec2-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">looks_like_ec2?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="looks_like_ec2-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/ec2.rb, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">looks_like_ec2?</span>
  <span class="ruby-comment"># Try non-blocking connect so we don't &quot;block&quot; if </span>
  <span class="ruby-comment"># the Xen environment is *not* EC2</span>
  <span class="ruby-identifier">hint?</span>(<span class="ruby-string">'ec2'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">has_ec2_mac?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">can_metadata_connect?</span>(<span class="ruby-constant">EC2_METADATA_ADDR</span>,<span class="ruby-value">80</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- looks_like_ec2-3F-source -->
            
          </div>

          

          
        </div><!-- looks_like_ec2-3F-method -->

      
        <div id="looks_like_euca-3F-method" class="method-detail ">
          <a name="method-i-looks_like_euca-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">looks_like_euca?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="looks_like_euca-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/eucalyptus.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">looks_like_euca?</span>
  <span class="ruby-comment"># Try non-blocking connect so we don't &quot;block&quot; if </span>
  <span class="ruby-comment"># the Xen environment is *not* EC2</span>
  <span class="ruby-identifier">hint?</span>(<span class="ruby-string">'eucalyptus'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">has_euca_mac?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">can_metadata_connect?</span>(<span class="ruby-constant">EC2_METADATA_ADDR</span>,<span class="ruby-value">80</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- looks_like_euca-3F-source -->
            
          </div>

          

          
        </div><!-- looks_like_euca-3F-method -->

      
        <div id="looks_like_linode-3F-method" class="method-detail ">
          <a name="method-i-looks_like_linode-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">looks_like_linode?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Identifies the linode cloud by preferring the hint, then</p>

<p>Returns true or false</p>
            

            
            <div class="method-source-code" id="looks_like_linode-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/linode.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">looks_like_linode?</span>
  <span class="ruby-identifier">hint?</span>(<span class="ruby-string">'linode'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">has_linode_kernel?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- looks_like_linode-3F-source -->
            
          </div>

          

          
        </div><!-- looks_like_linode-3F-method -->

      
        <div id="looks_like_rackspace-3F-method" class="method-detail ">
          <a name="method-i-looks_like_rackspace-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">looks_like_rackspace?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Identifies the rackspace cloud</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If the rackspace cloud can be identified</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="looks_like_rackspace-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/rackspace.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">looks_like_rackspace?</span>
  <span class="ruby-identifier">hint?</span>(<span class="ruby-string">'rackspace'</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">has_rackspace_mac?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">has_rackspace_kernel?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- looks_like_rackspace-3F-source -->
            
          </div>

          

          
        </div><!-- looks_like_rackspace-3F-method -->

      
        <div id="machine_lookup-method" class="method-detail ">
          <a name="method-i-machine_lookup"></a>

          
          <div class="method-heading">
            <span class="method-name">machine_lookup</span><span
              class="method-args">(sys_type)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="machine_lookup-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/windows/kernel.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">machine_lookup</span>(<span class="ruby-identifier">sys_type</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;i386&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;X86-based PC&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;x86_64&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;x64-based PC&quot;</span>)
  <span class="ruby-identifier">sys_type</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- machine_lookup-source -->
            
          </div>

          

          
        </div><!-- machine_lookup-method -->

      
        <div id="network_contains_address-method" class="method-detail ">
          <a name="method-i-network_contains_address"></a>

          
          <div class="method-heading">
            <span class="method-name">network_contains_address</span><span
              class="method-args">(address_to_match, ipaddress, iface)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="network_contains_address-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/network.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">network_contains_address</span>(<span class="ruby-identifier">address_to_match</span>, <span class="ruby-identifier">ipaddress</span>, <span class="ruby-identifier">iface</span>)
  <span class="ruby-comment"># address_to_match: String</span>
  <span class="ruby-comment"># ipaddress: IPAddress</span>
  <span class="ruby-comment"># iface: String</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">peer</span> = <span class="ruby-identifier">network</span>[<span class="ruby-string">&quot;interfaces&quot;</span>][<span class="ruby-identifier">iface</span>][<span class="ruby-string">&quot;addresses&quot;</span>][<span class="ruby-identifier">ipaddress</span>.<span class="ruby-identifier">to_s</span>][<span class="ruby-value">:peer</span>]
    <span class="ruby-constant">IPAddress</span>(<span class="ruby-identifier">peer</span>) <span class="ruby-operator">==</span> <span class="ruby-constant">IPAddress</span>(<span class="ruby-identifier">address_to_match</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">ipaddress</span>.<span class="ruby-identifier">include?</span> <span class="ruby-constant">IPAddress</span>(<span class="ruby-identifier">address_to_match</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- network_contains_address-source -->
            
          </div>

          

          
        </div><!-- network_contains_address-method -->

      
        <div id="on_ec2-3F-method" class="method-detail ">
          <a name="method-i-on_ec2-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">on_ec2?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Is current cloud ec2?</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If ec2 Hash is defined</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="on_ec2-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_ec2?</span>
  <span class="ruby-identifier">ec2</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_ec2-3F-source -->
            
          </div>

          

          
        </div><!-- on_ec2-3F-method -->

      
        <div id="on_eucalyptus-3F-method" class="method-detail ">
          <a name="method-i-on_eucalyptus-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">on_eucalyptus?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Is current cloud eucalyptus?</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If eucalyptus Hash is defined</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="on_eucalyptus-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_eucalyptus?</span>
  <span class="ruby-identifier">eucalyptus</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_eucalyptus-3F-source -->
            
          </div>

          

          
        </div><!-- on_eucalyptus-3F-method -->

      
        <div id="on_linode-3F-method" class="method-detail ">
          <a name="method-i-on_linode-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">on_linode?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Is current cloud linode?</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If linode Hash is defined</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="on_linode-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_linode?</span>
  <span class="ruby-identifier">linode</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_linode-3F-source -->
            
          </div>

          

          
        </div><!-- on_linode-3F-method -->

      
        <div id="on_openstack-3F-method" class="method-detail ">
          <a name="method-i-on_openstack-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">on_openstack?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Is current cloud openstack-based?</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If openstack Hash is defined</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="on_openstack-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 162</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_openstack?</span>
  <span class="ruby-identifier">openstack</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_openstack-3F-source -->
            
          </div>

          

          
        </div><!-- on_openstack-3F-method -->

      
        <div id="on_rackspace-3F-method" class="method-detail ">
          <a name="method-i-on_rackspace-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">on_rackspace?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Is current cloud rackspace?</p>

<h3>Return</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p>true</p></td>
<td>
<p>If rackspace Hash is defined</p>
</td></tr><tr><td class="rdoc-term"><p>false</p></td>
<td>
<p>Otherwise</p>
</td></tr></table>
            

            
            <div class="method-source-code" id="on_rackspace-3F-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/cloud.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">on_rackspace?</span>
  <span class="ruby-identifier">rackspace</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- on_rackspace-3F-source -->
            
          </div>

          

          
        </div><!-- on_rackspace-3F-method -->

      
        <div id="os_lookup-method" class="method-detail ">
          <a name="method-i-os_lookup"></a>

          
          <div class="method-heading">
            <span class="method-name">os_lookup</span><span
              class="method-args">(sys_type)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="os_lookup-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/windows/kernel.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">os_lookup</span>(<span class="ruby-identifier">sys_type</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Unknown&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;0&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Other&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;1&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;MSDOS&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;14&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;WIN3x&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;15&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;WIN95&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;16&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;WIN98&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;17&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;WINNT&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;18&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;WINCE&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sys_type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;19&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- os_lookup-source -->
            
          </div>

          

          
        </div><!-- os_lookup-method -->

      
        <div id="parse_media-method" class="method-detail ">
          <a name="method-i-parse_media"></a>

          
          <div class="method-heading">
            <span class="method-name">parse_media</span><span
              class="method-args">(media_string)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="parse_media-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/darwin/network.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_media</span>(<span class="ruby-identifier">media_string</span>)
  <span class="ruby-identifier">media</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">line_array</span> = <span class="ruby-identifier">media_string</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">' '</span>)

  <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">line_array</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;none&quot;</span>)

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^\&lt;([a-zA-Z\-\,]+)\&gt;$/</span>
        <span class="ruby-identifier">media</span>[<span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>]] = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">media</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>])
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">media</span>[<span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>]].<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">&quot;options&quot;</span>)
          <span class="ruby-node">$1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;,&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">media</span>[<span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>]][<span class="ruby-string">&quot;options&quot;</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">opt</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">media</span>[<span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>]][<span class="ruby-string">&quot;options&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">opt</span>)
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">media</span>[<span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>]][<span class="ruby-string">&quot;options&quot;</span>] = <span class="ruby-node">$1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;,&quot;</span>) 
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">line_array</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;autoselect&quot;</span>)
          <span class="ruby-identifier">media</span>[<span class="ruby-string">&quot;autoselect&quot;</span>] = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">media</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">&quot;autoselect&quot;</span>)
          <span class="ruby-identifier">media</span>[<span class="ruby-string">&quot;autoselect&quot;</span>][<span class="ruby-string">&quot;options&quot;</span>] = []
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">media</span>[<span class="ruby-string">&quot;none&quot;</span>] = { <span class="ruby-string">&quot;options&quot;</span> =<span class="ruby-operator">&gt;</span> [] }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">media</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- parse_media-source -->
            
          </div>

          

          
        </div><!-- parse_media-method -->

      
        <div id="run_ruby-method" class="method-detail ">
          <a name="method-i-run_ruby"></a>

          
          <div class="method-heading">
            <span class="method-name">run_ruby</span><span
              class="method-args">(command)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="run_ruby-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/ruby.rb, line 24</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">run_ruby</span>(<span class="ruby-identifier">command</span>)
  <span class="ruby-identifier">cmd</span> = <span class="ruby-node">&quot;ruby -e \&quot;require 'rbconfig'; #{command}\&quot;&quot;</span>
  <span class="ruby-identifier">status</span>, <span class="ruby-identifier">stdout</span>, <span class="ruby-identifier">stderr</span> = <span class="ruby-identifier">run_command</span>(<span class="ruby-value">:no_status_check</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:command</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">cmd</span>)
  <span class="ruby-identifier">stdout</span>.<span class="ruby-identifier">strip</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- run_ruby-source -->
            
          </div>

          

          
        </div><!-- run_ruby-method -->

      
        <div id="scope_lookup-method" class="method-detail ">
          <a name="method-i-scope_lookup"></a>

          
          <div class="method-heading">
            <span class="method-name">scope_lookup</span><span
              class="method-args">(scope)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="scope_lookup-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/darwin/network.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scope_lookup</span>(<span class="ruby-identifier">scope</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Node&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;::1&quot;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Link&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/^fe80\:/</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;Site&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/^fec0\:/</span>)
  <span class="ruby-string">&quot;Global&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- scope_lookup-source -->
            
          </div>

          

          
        </div><!-- scope_lookup-method -->

      
        <div id="sorted_ips-method" class="method-detail ">
          <a name="method-i-sorted_ips"></a>

          
          <div class="method-heading">
            <span class="method-name">sorted_ips</span><span
              class="method-args">(family = "inet")</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="sorted_ips-source">
<pre>
<span class="ruby-comment"># File lib/ohai/plugins/network.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sorted_ips</span>(<span class="ruby-identifier">family</span> = <span class="ruby-string">&quot;inet&quot;</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;bad family #{family}&quot;</span> <span class="ruby-keyword">unless</span> [ <span class="ruby-string">&quot;inet&quot;</span>, <span class="ruby-string">&quot;inet6&quot;</span> ].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">family</span>

  <span class="ruby-comment"># going to use that later to sort by scope</span>
  <span class="ruby-identifier">scope_prio</span> = [ <span class="ruby-string">&quot;global&quot;</span>, <span class="ruby-string">&quot;site&quot;</span>, <span class="ruby-string">&quot;link&quot;</span>, <span class="ruby-string">&quot;host&quot;</span>, <span class="ruby-string">&quot;node&quot;</span>, <span class="ruby-keyword">nil</span> ]

  <span class="ruby-identifier">ipaddresses</span> = []
  <span class="ruby-comment"># ipaddresses going to hold #{family} ipaddresses and their scope</span>
  <span class="ruby-constant">Mash</span>[<span class="ruby-identifier">network</span>[<span class="ruby-string">'interfaces'</span>]].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">iface</span>, <span class="ruby-identifier">iface_v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">iface_v</span>[<span class="ruby-string">'addresses'</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">addr</span>, <span class="ruby-identifier">addr_v</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">addr_v</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">addr_v</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-string">&quot;family&quot;</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">addr_v</span>[<span class="ruby-string">'family'</span>] <span class="ruby-operator">!=</span> <span class="ruby-identifier">family</span>
      <span class="ruby-identifier">ipaddresses</span> <span class="ruby-operator">&lt;&lt;</span>  {
        <span class="ruby-value">:ipaddress</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">addr_v</span>[<span class="ruby-string">&quot;prefixlen&quot;</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">IPAddress</span>(<span class="ruby-node">&quot;#{addr}/#{addr_v[&quot;prefixlen&quot;]}&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-constant">IPAddress</span>(<span class="ruby-node">&quot;#{addr}/#{addr_v[&quot;netmask&quot;]}&quot;</span>),
        <span class="ruby-value">:scope</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">addr_v</span>[<span class="ruby-string">&quot;scope&quot;</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">addr_v</span>[<span class="ruby-string">&quot;scope&quot;</span>].<span class="ruby-identifier">downcase</span>,
        <span class="ruby-value">:iface</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">iface</span>
      }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># sort ip addresses by scope, by prefixlen and then by ip address</span>
  <span class="ruby-comment"># 128 - prefixlen: longest prefixes first</span>
  <span class="ruby-identifier">ipaddresses</span>.<span class="ruby-identifier">sort_by</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    [ ( <span class="ruby-identifier">scope_prio</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">v</span>[<span class="ruby-value">:scope</span>]) <span class="ruby-keyword">or</span> <span class="ruby-value">999999</span> ),
      <span class="ruby-value">128</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">:ipaddress</span>].<span class="ruby-identifier">prefix</span>.<span class="ruby-identifier">to_i</span>,
      ( <span class="ruby-identifier">family</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;inet&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">:ipaddress</span>].<span class="ruby-identifier">to_u32</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>[<span class="ruby-value">:ipaddress</span>].<span class="ruby-identifier">to_u128</span> )
    ]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- sorted_ips-source -->
            
          </div>

          

          
        </div><!-- sorted_ips-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

